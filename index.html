<!doctype html>
<html lang="en">

<head>
	<meta charset="utf-8">

	<title>VSCode Reveal intro</title>

	<meta name="description" content="A framework for easily creating beautiful presentations using HTML">
	<meta name="author" content="Hakim El Hattab">

	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<link rel="stylesheet" href="./libs/reveal.js/4.1.3/reset.css">
	<link rel="stylesheet" href="./libs/reveal.js/4.1.3/reveal.css">

	
	
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">

	  <!-- highlight Theme -->
  	
	  <link rel="stylesheet" href="./libs/highlight.js/11.3.1/styles/monokai.min.css">
	
	
		
	<link rel="stylesheet" href="./libs/reveal.js/4.1.3/plugin/chalkboard/style.css">
	
	
	
		<link rel="stylesheet" href="./libs/reveal.js/4.1.3/plugin/customcontrols/style.css">
	
	<link rel="stylesheet" href="./libs/styles/tasklist.css">



  <!-- Revealjs Theme -->
  
  	<link rel="stylesheet" href="./libs/reveal.js/4.1.3/theme/solarized.css" id="theme">
  
  


  <!-- Revealjs Theme -->
  

 
</head>

<body>
  
    <div id="logo" style="position: fixed; top: 20px; left: 20px; z-index: 1; height:3rem;">
        <img src="https://raw.githubusercontent.com/theodorosploumis/docker-presentation/gh-pages/img/docker_logo.png" style="height:100%"/>
    </div>
  


  <div class="reveal">

    <!-- Any section element inside of this container is displayed as a slide -->
    <div class="slides">

      


    
        <section >
            
            <p><img src="https://raw.githubusercontent.com/theodorosploumis/docker-presentation/gh-pages/img/docker_logo.png" alt="Docker logo"></p>
<h2>Development Environments in Docker</h2>
<hr>
<p>Kyryl Skobylko</p>
<h6>Senior Devops Engineer</h6>

            </section>
    



    
        <section >
            
            <h3>Agenda</h3>
<ul>
<li>Introduction to Docker</li>
<li>Use Cases</li>
<li>Developer Environments in Docker (Deep Dive)</li>
<li>Overall Results</li>
</ul>

            </section>
    



    
        <section >
            
            <h3>Let me ask you</h3>
<ul>
<li>Who knows about <a href="http://docker.com">Docker</a>?</li>
<li>Who uses Docker for development?</li>
<li>Who uses Docker in production?</li>
<li>Who tried but could not do it?</li>
</ul>

            </section>
    



    
        <section >
            
            <h3>What is Docker (v1.11)</h3>
<blockquote>
<p>Docker is an open platform for developing, shipping, and running applications.</p>
</blockquote>
<blockquote>
<p>Docker allows you to package an application with all of its dependencies into a standardized unit for software development.</p>
</blockquote>

            </section>
    



    
        <section >
            
            <h3>Docker vs VMs</h3>
<p><img src="https://image.slidesharecdn.com/why-docker-website-130719212914-phpapp01-131208123039-phpapp01/95/hypervisor-versus-linux-containers-with-docker-25-638.jpg" alt="Docker vs traditional Virtualization"></p>

            </section>
    



    
        <section >
            
            <h3>Docker vs VMs (meme format)</h3>
<p><img src="https://ebs-integrator.com/wp-content/uploads/2021/07/VM-1.jpg" alt="VM"></p>

            </section>
    



    
        <section >
            
            <h3>Docker vs VMs (meme format)2</h3>
<p><img src="https://ebs-integrator.com/wp-content/uploads/2021/07/Reasons-to-containerit.jpg" alt="VM"></p>

            </section>
    



    
        <section >
            
            <h3>Docker vs VMs (meme format)3</h3>
<p><img src="https://ebs-integrator.com/wp-content/uploads/2021/07/DockerBorn.jpg" alt="VM"></p>

            </section>
    



    
        <section >
            
            <h3>Docker History</h3>
<ul>
<li>Solomon Hykes (<a href="https://twitter.com/solomonstre">@solomonstre</a>)</li>
<li>dotCloud (now Docker Inc)</li>
<li>March 2013</li>
<li>Apache 2.0 license</li>
<li>30k stars on Github</li>
<li>260k public repositories on <a href="http://hub.docker.com">hub.docker.com</a></li>
<li>Docker Inc acquires everyone <small><sup>TM</sup></small></li>
<li>Docker joins the “<a href="https://www.opencontainers.org/">Open Container Initiative</a>”, June 2015</li>
</ul>

            </section>
    



    
        <section >
            
            <h3>Docker Benefits</h3>
<ul>
<li>Fast (deployment, migration, restarts)</li>
<li>Secure</li>
<li>Lightweight (save disk &amp; CPU)</li>
<li>Open Source</li>
<li>Portable software</li>
<li>Microservices and integrations (APIs)</li>
<li>Simplify DevOps</li>
<li>Version control capabilities</li>
</ul>

            </section>
    



    
        <section >
            
            <h3>Technology behind Docker</h3>
<ul>
<li>Linux <a href="https://www.wikiwand.com/en/X86-64">x86-64</a></li>
<li><a href="https://golang.org/">Go</a> language</li>
<li><a href="https://www.wikiwand.com/en/Client%E2%80%93server_model">Client - Server</a> (deamon) architecture</li>
<li>Union file systems (<a href="https://www.wikiwand.com/en/UnionFS">UnionFS</a>: AUFS, btrfs, vfs etc)</li>
<li><a href="https://en.wikipedia.org/wiki/Cgroups#NAMESPACE-ISOLATION">Namespaces</a> (pid, net, ipc, mnt, uts)</li>
<li>Control Groups (<a href="https://www.wikiwand.com/en/Cgroups">cgroups</a>)</li>
<li>Container format (<a href="https://github.com/opencontainers/runc/tree/master/libcontainer" title="Libcontainer provides a native Go implementation for creating containers with namespaces, cgroups, capabilities, and filesystem access controls. It allows you to manage the lifecycle of the container performing additional operations after the container is created.">libcontainer</a>)</li>
</ul>
<h6>See more at <a href="https://docs.docker.com/engine/understanding-docker/">Understanding docker</a></h6>

            </section>
    



    
        <section >
            
            <h3>The Docker architecture</h3>
<p><img src="https://docs.docker.com/engine/images/architecture.svg" alt="Docker architecture"></p>
<h6>See more at <a href="https://docs.docker.com/engine/understanding-docker/">Understanding docker</a></h6>

            </section>
    



    
        <section >
            
            <h3>Docker components</h3>
<ul>
<li>(Docker) client</li>
<li>daemon</li>
<li>engine</li>
<li>machine</li>
<li>compose</li>
<li>swarm</li>
<li>registry</li>
</ul>

            </section>
    



    
        <section >
            
            <h3>Docker client</h3>
<p>It is the primary user interface to Docker. It accepts commands from the user
and communicates back and forth with a Docker daemon.</p>

            </section>
    



    
        <section >
            
            <h3>Docker daemon</h3>
<p>It runs on a host machine. The user does not directly interact with the daemon,
but instead through the Docker client with the RESTful api or sockets.</p>

            </section>
    



    
        <section >
            
            <h3>Docker engine</h3>
<p>A Client with a Daemon as also as the docker-compose tool. Usually referred simply as “docker”.</p>

            </section>
    



    
        <section >
            
            <h3>Docker compose</h3>
<p><img src="https://raw.githubusercontent.com/theodorosploumis/docker-presentation/gh-pages/img/docker_compose.png" alt="Docker compose logo"></p>
<p>A tool for defining and running complex applications with Docker
(eg a multi-container application) with a single file.</p>

            </section>
    



    
        <section >
            
            <h3>Docker distribution</h3>
<p><img src="https://raw.githubusercontent.com/theodorosploumis/docker-presentation/gh-pages/img/docker_distribution.png" alt="Docker distribution logo"></p>
<p>A (hosted) service containing repositories of images which responds to the Registry API.</p>

            </section>
    



    
        <section >
            
            <h3>Common Docker usages</h3>
<ul>
<li>Sandbox environment (develop, test, debug, educate)</li>
<li>Continuous Integration &amp; Deployment</li>
<li>Scaling apps</li>
<li>Development collaboration</li>
<li>Infrastructure configuration</li>
<li>Local development</li>
<li>Multi-tier applications</li>
<li>PaaS, SaaS</li>
</ul>
<h6>See the <a href="https://www.docker.com/blog/key-insights-from-stack-overflows-2022-developer-survey/">survey results for 2022</a></h6>

            </section>
    



    
        <section >
            
            <h3>Mine use cases</h3>
<ul>
<li>Production services
<ul>
<li>Build software in Docker</li>
<li>Deploy to Dockerhub and AWS’s ECR</li>
<li>Deploy to Kubernetes and Docker Swarm</li>
</ul>
</li>
<li>Development
<ul>
<li>Work within Docker Development Environment</li>
<li>Able to start any part of the application stack with a single command</li>
</ul>
</li>
<li>QA(Quality Assurance)/UX(User Experience)
<ul>
<li>Automatically built images from Pull Requests</li>
</ul>
</li>
</ul>

            </section>
    



    
        <section >
            
            <h3>Steps of a Docker workflow</h3>
<pre><code>docker run -i -t -d ubuntu:20.04 /bin/bash
</code></pre>
<ul>
<li>Pulls the ubuntu:20.04 <a href="https://docs.docker.com/engine/userguide/containers/dockerimages/" title="A read-only layer that is the base of your container. It can have a parent image to abstract away the more basic filesystem snapshot.">image</a> from the <a href="https://docs.docker.com/registry/" title="The central place where all publicly published images live. You can search it, upload your images there and when you pull a docker image, it comes the repository/hub.">registry</a></li>
<li>Creates a new <a href="https://docs.docker.com/engine/userguide/storagedriver/imagesandcontainers/" title="A runnable instance of the image, basically it is a process isolated by docker that runs on top of the filesystem that an image provides.">container</a></li>
<li>Allocates a filesystem and mounts a read-write <a href="https://docs.docker.com/engine/reference/glossary/#filesystem" title="A set of read-only files to provision the system. Think of a layer as a read only snapshot of the filesystem.">layer</a></li>
<li>Allocates a <a href="https://www.wikiwand.com/en/Bridging_%28networking%29">network/bridge interface</a></li>
<li>Sets up an <a href="https://www.wikiwand.com/en/IP_address" title="An Internet Protocol address (IP address) is a numerical label assigned to each device (e.g., computer, printer) participating in a computer network that uses the Internet Protocol for communication.">IP address</a></li>
<li>Executes a process that you specify (<code>/bin/bash</code>)</li>
<li>Captures and provides application output</li>
</ul>

            </section>
    



    
        <section >
            
            <h3>The docker image</h3>
<p><img src="https://i.stack.imgur.com/J2cge.jpg" alt="ubuntu:15.04 image" title="A read-only layer that is the base of your container. It can have a parent image to abstract away the more basic filesystem snapshot. Each Docker image references a list of read-only layers that represent filesystem differences. Layers are stacked on top of each other to form a base for a container’s root filesystem."></p>

            </section>
    



    
        <section >
            
            <h3>The docker container</h3>
<p><img src="https://i.stack.imgur.com/J2cge.jpg" alt="container using ubuntu:15.04 image" title="A runnable instance of the image, basically it is a process isolated by docker that runs on top of the filesystem that an image provides. For each containers there is a new, thin, writable layer - container layer - on top of the underlying stack (image)."></p>

            </section>
    



    
        <section >
            
            <h3>The Dockerfile</h3>
<blockquote>
<p>A Dockerfile is a text document that contains all the commands a user could call on the command line to create an image.</p>
</blockquote>
<ul>
<li><a href="https://github.com/theodorosploumis/docker-presentation/blob/gh-pages/examples/dockerfile/Dockerfile">Dockerfile with inline comments</a> just for education</li>
<li><a href="https://docs.docker.com/engine/reference/builder/">Dockerfile reference</a> on docker docs</li>
<li>Official Dockerfiles (<a href="https://github.com/docker-library/rails/blob/master/Dockerfile">rails</a>, <a href="https://github.com/ReadyTalk/nodejs-docker/blob/master/base/Dockerfile">nodejs</a>, <a href="https://github.com/docker-library/django/blob/master/3.4/Dockerfile">django</a>, <a href="https://github.com/docker-library/drupal/blob/master/9.3/php8.0/apache-bullseye/Dockerfile">Drupal</a>)</li>
</ul>

            </section>
    



    
        <section >
            
            <h3>Common Docker Commands</h3>
<pre><code>// General info
man docker // man docker-run
docker help // docker help run
docker info
docker version
docker network ls

// Images
docker images // docker [IMAGE_NAME]
docker pull [IMAGE] // docker push [IMAGE]

// Containers
docker run
docker ps // docker ps -a, docker ps -l
docker stop/start/restart [CONTAINER]
docker stats [CONTAINER]
docker top [CONTAINER]
docker port [CONTAINER]
docker inspect [CONTAINER]
docker inspect -f &quot;{{ .State.StartedAt }}&quot; [CONTAINER]
docker rm [CONTAINER]

</code></pre>

            </section>
    



    
        <section >
            
            <h3>Docker examples</h3>
<ul>
<li>SSH into a container</li>
<li>Build an image</li>
<li>Docker <a href="https://docs.docker.com/engine/userguide/containers/dockervolumes/">Volume</a></li>
<li><a href="https://docs.docker.com/engine/userguide/networking/default_network/dockerlinks/">Linked</a> containers</li>
<li>Using <a href="https://docs.docker.com/compose/">docker-compose</a></li>
<li>Scale containers with docker-compose</li>
<li>Share an image (share this presentation)</li>
<li>Package an app with its environment</li>
<li>Screen and sound within containers (x-forward)</li>
</ul>

            </section>
    



    
        <section >
            
            <h3>Example: SSH into a container</h3>
<pre><code>docker pull ubuntu
docker run -it --name ubuntu_example ubuntu /bin/bash
</code></pre>

            </section>
    



    
        <section >
            
            <h3>Example: Build an Image</h3>
<p>Let’s build a <a href="https://github.com/komljen/dockerfile-examples/blob/master/jenkins/Dockerfile">jenkins image</a></p>
<pre><code>cd ~/Docker-presentation
git clone git@github.com:komljen/dockerfile-examples.git.git
cd dockerfile-examples/jenkins
docker build -t jenkins-local .

// Test it
docker run -d -p 8099:8080 --name jenkins_example jenkins-local
// Open http://localhost:8099
</code></pre>

            </section>
    



    
        <section >
            
            <h3>Example: Docker volume</h3>
<p>Let’s use <a href="https://bitbucket.org/EdBoraas/apache-docker/src/">Apache server</a></p>
<pre><code>cd ~/Docker-presentation
mkdir apache-example
cd apache-example

docker pull eboraas/apache
docker run --name apache_volume_example \
           -p 8180:80 -p 443:443 \
           -v $(pwd):/var/www/ \
           -d eboraas/apache

// Locally create an index.html file
mkdir html
cd html
echo &quot;It works using mount.&quot; &gt;&gt; index.html

// Open http://localhost:8180 to view the html file
</code></pre>

            </section>
    



    
        <section >
            
            <h3>Example: Docker link containers</h3>
<p>Let’s create a <a href="https://hub.docker.com/_/drupal/">Drupal app</a> (apache, php, mysql, drupal)</p>
<pre><code>cd ~/Docker-presentation
mkdir drupal-link-example
cd drupal-link-example

docker pull drupal:8.0.6-apache
docker pull mysql:5.5

// Start a container for mysql
docker run --name mysql_example \
           -e MYSQL_ROOT_PASSWORD=root \
           -e MYSQL_DATABASE=drupal \
           -e MYSQL_USER=drupal \
           -e MYSQL_PASSWORD=drupal \
           -d mysql:5.5

// Start a Drupal container and link it with mysql
// Usage: --link [name or id]:alias
docker run -d --name drupal_example \
           -p 8280:80 \
           --link mysql_example:mysql \
           drupal:8.0.6-apache

// Open http://localhost:8280 to continue with the installation
// On the db host use: mysql

// There is a proper linking
docker inspect -f &quot;{{ .HostConfig.Links }}&quot; drupal_example
</code></pre>

            </section>
    



    
        <section >
            
            <h3>Example: Using Docker Compose</h3>
<p>Let’s create a Airbyte app with <a href="https://github.com/airbytehq/airbyte/blob/master/docker-compose.yaml">docker-compose.yml</a></p>
<pre><code>cd ~/Docker-presentation
git clone https://github.com/airbytehq/airbyte.git
cd airbyte

// Run docker-compose using the docker-compose.yml
cat docker-compose.yml
docker-compose up -d
</code></pre>

            </section>
    



    
        <section >
            
            <h3>Example: Share a public Image</h3>
<pre><code>cd ~/Docker-presentation
git https://github.com/xpuska513/docker-presentation.git
cd docker-presentation

docker pull nimmis/alpine-apache
docker build -t xpuska/docker-presentation .

// Test it
docker run -itd --name docker_presentation \
           -p 8480:80 \
           xpuska/docker-presentation

// Open http://localhost:8480, you should see this presentation

// Push it on the hub.docker.com
docker push xpuska/docker-presentation
</code></pre>

            </section>
    



    
        <section >
            
            <h3>Example: Export/Save/Load etc</h3>
<pre><code>docker pull nimmis/alpine-apache
docker run -d --name apache_example \
           nimmis/alpine-apache

// Create a file inside the container.
// See https://github.com/nimmis/docker-alpine-apache for details.
docker exec -ti apache_example \
            /bin/sh -c 'mkdir /test &amp;&amp; echo &quot;This is it.&quot; &gt;&gt; /test/test.txt'

// Test it. You should see message: &quot;This is it.&quot;
docker exec apache_example cat /test/test.txt

// Commit the change.
docker commit apache_export_example myapache:latest

// Create a new container with the new image.
docker run -d --name myapache_example myapache

// You should see the new folder/file inside the myapache_example container.
docker exec myapache_example cat /test/test.txt

// Export the container as image
cd ~/Docker-presentation
docker export myapache_example &gt; myapache_example.tar

// Import a new image from the exported files
cd ~/Docker-presentation
docker import myapache_example.tar myapache:new

// Save a new image as tar
docker save -o ~/Docker-presentation/myapache_image.tar myapache:new

// Load an image from tar file
docker load &lt; myapache_image.tar

</code></pre>

            </section>
    



    
        <section >
            
            <h3>Example: GUI with Docker</h3>
<p>See examples at <a href="https://hub.docker.com/u/jess/">hub.docker.com/u/jess</a></p>
<pre><code>// Before staring we should grant access to everyone on the X Server (locally)
// Otherwise the containers below will never start and they will not be able to use x11
xhost +

// Libreoffice
docker run  -d \
            -v /etc/localtime:/etc/localtime:ro \
            -v /tmp/.X11-unix:/tmp/.X11-unix \
            -e DISPLAY=unix$DISPLAY \
            -e GDK_SCALE \
            -e GDK_DPI_SCALE \
            --name libreoffice \
            jess/libreoffice

// SublimeText 3
docker run -it \
           -v $HOME/.config/sublime-text-3/:/root/.config/sublime-text-3 \
           -v /tmp/.X11-unix:/tmp/.X11-unix \
           -e DISPLAY=$DISPLAY \
           --name sublime_text \
           jess/sublime-text-3

// Audacity (sound in docker container)
docker run  -d \
            -v /etc/localtime:/etc/localtime:ro \
            -v /tmp/.X11-unix:/tmp/.X11-unix \
            -e DISPLAY=unix$DISPLAY \
            -e QT_DEVICE_PIXEL_RATIO \
            --device /dev/snd \
            --group-add audio \
            --name audacity \
            jess/audacity

// Disable access to x11
xhost -

</code></pre>

            </section>
    



    
        <section >
            
            <h3>Docker tips</h3>
<p>There are known best practices (see a list at <a href="https://github.com/theodorosploumis/docker-presentation/tree/gh-pages/examples/tips">examples/tips</a>)</p>
<ul>
<li>Optimize containers (check <a href="https://www.fromlatest.io/">fromlatest.io</a> and <a href="https://dockersl.im">dockersl.im</a>)</li>
<li>Create your own tiny base</li>
<li>Containers are not Virtual Machines</li>
<li>Full stack Images VS 1 process per Container</li>
<li>Create your private registry</li>
<li>Create shortcut commands</li>
<li>Use docker-compose.yml templates</li>
<li>Be aware of the <a href="http://hub.docker.com">hub.docker.com</a> docker agent version</li>
</ul>

            </section>
    



    
        <section >
            
            <h3>The Docker war</h3>
<table>
<thead>
<tr>
<th style="text-align:center">Type</th>
<th>Software</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">Clustering/orchestration</td>
<td><a href="https://docs.docker.com/swarm/">Swarm</a>, <a href="http://kubernetes.io/">Kubernetes</a>, <a href="https://mesosphere.github.io/marathon/">Marathon</a>, <a href="https://github.com/signalfx/maestro-ng">MaestroNG</a>, <a href="http://shipyard-project.com/">shipyard</a></td>
</tr>
<tr>
<td style="text-align:center">Docker registries</td>
<td><a href="http://port.us.org/">Portus</a>, <a href="https://github.com/docker/distribution">Docker Distribution</a>, <a href="http://hub.docker.com">hub.docker.com</a>, <a href="https://quay.io">quay.io</a>, <a href="https://cloud.google.com/tools/container-registry/">Google container registry</a>, <a href="https://www.jfrog.com/artifactory/">Artifactory</a>, <a href="http://www.projectatomic.io/">projectatomic.io</a></td>
</tr>
<tr>
<td style="text-align:center">PaaS with Docker</td>
<td><a href="http://rancher.com/">Rancher</a>, <a href="https://tsuru.io/">Tsuru</a>, <a href="https://github.com/dokku/dokku">dokku</a>, <a href="https://flynn.io/">flynn</a>, <a href="http://deis.io/">DEIS</a></td>
</tr>
</tbody>
</table>

            </section>
    



    
        <section >
            
            <h3>Docker Alternatives</h3>
<ul>
<li><a href="https://github.com/coreos/rkt">Rocket, rkt</a></li>
<li><a href="https://linuxcontainers.org/">Linux Containers, LXC</a></li>
<li><a href="http://www.ubuntu.com/cloud/lxd">Linux container hypervisor, LXD</a></li>
<li><a href="https://www.freebsd.org/doc/handbook/jails.html">BSD Jails</a></li>
<li><a href="http://oracle.com/solaris">Solaris Zones</a></li>
<li><a href="http://research.microsoft.com/en-us/projects/drawbridge/">drawbridge</a></li>
</ul>

            </section>
    



    
        <section >
            
            <h3>Instead of Resources</h3>
<ul>
<li><a href="https://github.com/veggiemonk/awesome-docker">Awesome Docker</a> (list of Docker resources &amp; projects)</li>
<li><a href="https://github.com/wsargent/docker-cheat-sheet">Docker cheat sheet</a></li>
<li><a href="https://www.manning.com/books/docker-in-practice">Docker in Practice</a>, <a href="http://www.dockerbook.com/">The Docker Book</a> (books)</li>
<li><a href="https://github.com/theodorosploumis/docker-presentation/tree/gh-pages/examples/shortcuts/docker-aliases.sh">Docker aliases/shortcuts</a></li>
<li>Docker <a href="https://www.docker.com/customers">case studies</a></li>
</ul>

            </section>
    



    
        <section >
            
            <h3>Questions?</h3>
<p><img src="https://raw.githubusercontent.com/theodorosploumis/docker-presentation/gh-pages/img/docker_logo.png" alt="Pythons over Docker!"></p>

            </section>
    


    </div>


  </div>

  	
	<script src="./libs/reveal.js/4.1.3/reveal.js"></script>
	<script src="./libs/reveal.js/4.1.3/plugin/zoom/zoom.js"></script>
	<script src="./libs/reveal.js/4.1.3/plugin/notes/notes.js"></script>
	<script src="./libs/reveal.js/4.1.3/plugin/search/search.js"></script>
	<script src="./libs/reveal.js/4.1.3/plugin/markdown/markdown.js"></script>
	<script src="./libs/reveal.js/4.1.3/plugin/highlight/highlight.js"></script>
	<script src="./libs/reveal.js/4.1.3/plugin/menu/menu.js"></script>
	<script src="./libs/reveal.js/4.1.3/plugin/math/math.js"></script>

	<script src="./libs/reveal.js/4.1.3/plugin/fullscreen/plugin.js"></script>
  
  	<script src="./libs/reveal.js/4.1.3/plugin/animate/plugin.js"></script>
  	<script src="./libs/reveal.js/4.1.3/plugin/animate/svg.min.js"></script>
  
  	 <!--	<script src="./libs/reveal.js/4.1.3/plugin/anything/plugin.js"></script> -->

 <!--	<script src="./libs/reveal.js/4.1.3/plugin/audio-slideshow/plugin.js"></script>  -->
<!--	<script src="./libs/reveal.js/4.1.3/plugin/audio-slideshow/recorder.js"></script>-->
<!--	<script src="./libs/reveal.js/4.1.3/plugin/audio-slideshow/RecordRTC.js"></script>-->

	<script src="./libs/reveal.js/4.1.3/plugin/chalkboard/plugin.js"></script>
	<script src="./libs/reveal.js/4.1.3/plugin/customcontrols/plugin.js"></script>
	<script src="./libs/reveal.js/4.1.3/plugin/embed-tweet/plugin.js"></script>

	<script src="./libs/reveal.js/4.1.3/plugin/chart/chart.min.js"></script>
	<script src="./libs/reveal.js/4.1.3/plugin/chart/plugin.js"></script>

  <script>

		const printPlugins = [
			RevealNotes, 
			RevealHighlight,
			RevealMath,
			RevealAnimate,
			RevealChalkboard,
			RevealEmbedTweet,
			RevealChart,
		];

		const plugins =  [...printPlugins,
				RevealZoom, 
				RevealSearch, 
				RevealMarkdown, 
				RevealHighlight,
				RevealMenu, 
				RevealFullscreen,
				//RevealAnything,
				//RevealAudioSlideshow,
				//RevealAudioRecorder,
				RevealCustomControls, 
				// poll
				// question
				// seminar
				 ]


		// Also available as an ES module, see:
		// https://revealjs.com/initialization/
		Reveal.initialize({
			controls: true,
			controlsTutorial: true,
			controlsLayout: 'bottom-right',
			controlsBackArrows: 'faded',
			progress: true,
			slideNumber: false,
			//#showSlideNumber "all" "print" "speaker"
			hash: true,//#  hash: false,
			//# respondToHashChanges: true,
			//# history: false,
			keyboard: true,
			//#keyboardCondition: null,
			overview: true,
			center: false,
			touch: true,
			loop: false,
			rtl: false,
			//#navigationMode: 'default', linear grid
			shuffle: false,
			fragments: true,
			fragmentInURL: false,
			embedded: false,
			help: true,
			//#pause: true
			showNotes: false,
			autoPlayMedia: false, // TODO fix this to a nullable value
			//#preloadIframes: null. true false
			//#autoAnimate: true
			//#autoAnimateMatcher: null,
			//#autoAnimateEasing: 'ease',
			//autoAnimateDuration: 1.0,
			//#autoAnimateUnmatched: true
			//#autoAnimateStyles: []
			autoSlide: 0, // TODO fix this to a falseable value
			autoSlideStoppable: true,
			autoSlideMethod: '0',
			defaultTiming: 120,
			mouseWheel: false,
			//#previewLinks: false
			//#postMessage: true,  // TODO : this can cause issues with the vscode api ???
			//#postMessageEvents: false,
			//#focusBodyOnPageVisibilityChange: true,
			transition: 'slide',
			transitionSpeed: 'default',
			backgroundTransition: 'default',
			//#pdfMaxPagesPerSlide: Number.POSITIVE_INFINITY,
			//#pdfSeparateFragments: true,
			//#pdfPageHeightOffset: -1,
			viewDistance: 3,
			//#mobileViewDistance: 2,
			display: 'block',
			//#hideInactiveCursor: true,
			//#hideCursorTime: 5000

			// Parallax Background
			parallaxBackgroundImage: '',
			parallaxBackgroundSize: '',
			parallaxBackgroundHorizontal: 0,
			parallaxBackgroundVertical: 0,
			
			//Presentation Size
			//#width: 960,
			//#height: 700,
			//#margin: 0.04,
			//#minScale: 0.2,
			//#maxScale: 2.0
			//#disableLayout: false

			audio: {
				prefix: 'audio/', 	// audio files are stored in the "audio" folder
				suffix: '.ogg',		// audio files have the ".ogg" ending
				textToSpeechURL: null,  // the URL to the text to speech converter
				defaultNotes: false, 	// use slide notes as default for the text to speech converter
				defaultText: false, 	// use slide text as default for the text to speech converter
				advance: 0, 		// advance to next slide after given time in milliseconds after audio has played, use negative value to not advance
				autoplay: false,	// automatically start slideshow
				defaultDuration: 5,	// default duration in seconds if no audio is available
				defaultAudios: true,	// try to play audios with names such as audio/1.2.ogg
				playerOpacity: 0.05,	// opacity value of audio player if unfocused
				playerStyle: 'position: fixed; bottom: 4px; left: 25%; width: 50%; height:75px; z-index: 33;', // style used for container of audio controls
				startAtFragment: false, // when moving to a slide, start at the current fragment or at the start of the slide
			},
			chalkboard: { // font-awesome.min.css must be available
					//src: "chalkboard/chalkboard.json",
					storage: "chalkboard-demo",
					colorButtons: 5
				},
			customcontrols: {
					controls: [
      						{
						  id: 'toggle-overview',
						  title: 'Toggle overview (O)',
						  icon: '<i class="fa fa-th"></i>',
						  action: 'Reveal.toggleOverview();'
						},
						{ icon: '<i class="fa fa-pen-square"></i>',
						  title: 'Toggle chalkboard (B)',
						  action: 'RevealChalkboard.toggleChalkboard();'
						},
						{ icon: '<i class="fa fa-pen"></i>',
						  title: 'Toggle notes canvas (C)',
						  action: 'RevealChalkboard.toggleNotesCanvas();'
						}
				]
			},
			chart: {
					defaults: { 
						color: 'lightgray', // color of labels
						scale: { 
							beginAtZero: true, 
							ticks: { stepSize: 1 },
							grid: { color: "lightgray" } , // color of grid lines
						},
					},
					line: { borderColor: [ "rgba(20,220,220,.8)" , "rgba(220,120,120,.8)", "rgba(20,120,220,.8)" ], "borderDash": [ [5,10], [0,0] ] }, 
					bar: { backgroundColor: [ "rgba(20,220,220,.8)" , "rgba(220,120,120,.8)", "rgba(20,120,220,.8)" ]}, 
					pie: { backgroundColor: [ ["rgba(0,0,0,.8)" , "rgba(220,20,20,.8)", "rgba(20,220,20,.8)", "rgba(220,220,20,.8)", "rgba(20,20,220,.8)"] ]},
					radar: { borderColor: [ "rgba(20,220,220,.8)" , "rgba(220,120,120,.8)", "rgba(20,120,220,.8)" ]}, 
			},
			math: {
				mathjax: 'https://cdn.jsdelivr.net/gh/mathjax/mathjax@2.7.8/MathJax.js',
				config: 'TeX-AMS_HTML-full',
				// pass other options into `MathJax.Hub.Config()`
				TeX: { Macros: { RR: "{\\bf R}" } }
				},
			// Learn about plugins: https://revealjs.com/plugins/
			plugins: (window.location.search.match(/print-pdf/gi) ? printPlugins : plugins ) 
		});
			


	    // Change chalkboard theme : 
		function changeTheme(input) {
			var config = {};
			config.theme = input.value;
			Reveal.getPlugin("RevealChalkboard").configure(config);
			input.blur();
		}

		// // Handle the message inside the webview
        // window.addEventListener('message', event => {

        //     const message = event.data; // The JSON data our extension sent

        //     switch (message.command) {
        //         case 'refactor':
        //             Reveal.toggleHelp();
        //     }
        // });

		if (window.location.search.match(/print-pdf-now/gi)) {
      		setTimeout(() => {
				window.print();
			  }, 2500);
			
    }
		

	</script>

</body>

</html>